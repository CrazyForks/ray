build_arg_sets:
  - name: py311_cpu
    build_args:
      CUDA_VERSION: cpu
      PYTHON_VERSION: py311
  - name: py311_gpu
    build_args:
      CUDA_VERSION: cu128
      PYTHON_VERSION: py311
depsets:
  - name: ray_base_test_depset
    requirements:
      - python/requirements.txt
      - python/requirements/cloud-requirements.txt
      - python/requirements/base-test-requirements.txt
    constraints:
      - python/requirements_compiled_ray_test_${PYTHON_VERSION}_${CUDA_VERSION}.txt
    output: python/requirements_compiled_ray_test_${PYTHON_VERSION}_${CUDA_VERSION}.txt
    operation: compile
  - name: general_depset
    operation: compile
    requirements:
      - python/requirements.txt
    output: python/test/requirements_compiled_general_py311_cpu.txt
  - name: subset_ray_base_depset
    operation: subset
    source_depset: ray_base_test_depset
    requirements:
      - python/requirements/cloud-requirements.txt
    output: python/test/requirements_compiled_subset_ray_base_py311_cpu.txt
