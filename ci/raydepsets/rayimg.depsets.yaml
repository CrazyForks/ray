build_arg_sets:
  py39:
    PYTHON_VERSION: "3.9"
    PYTHON_SHORT: "39"
  py310:
    PYTHON_VERSION: "3.10"
    PYTHON_SHORT: "310"
  py311:
    PYTHON_VERSION: "3.11"
    PYTHON_SHORT: "311"
  py312:
    PYTHON_VERSION: "3.12"
    PYTHON_SHORT: "312"


depsets:
  # - name: ray_img_depset_${PYTHON_SHORT}
  #   requirements:
  #     - ray[all]==100.0.0-dev
  #   constraints:
  #     - python/requirements_compiled.txt
  #   output: python/lock_files/ray_img/py${PYTHON_SHORT}.lock
  #   operation: compile
  #   append_flags:
  #     - --python-version=${PYTHON_VERSION}
  #     - --find-links=.whl/
  #   build_arg_sets:
  #     - py39
  #     - py310
  #     - py311
  #     - py312

  - name: ray_img_depset_${PYTHON_SHORT}
    packages:
      - emoji==2.1.0
    output: python/lock_files/ray_img/test_py${PYTHON_SHORT}.lock
    operation: compile
    append_flags:
      - --python-version=${PYTHON_VERSION}
      - --find-links=.whl/
    build_arg_sets:
      - py39
      - py310
      - py311
      - py312
